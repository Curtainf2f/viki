# 2020-4-16-合并区间

给出一个区间的集合，请合并所有重叠的区间。

示例 1:
```
输入: [[1,3],[2,6],[8,10],[15,18]]
输出: [[1,6],[8,10],[15,18]]
解释: 区间 [1,3] 和 [2,6] 重叠, 将它们合并为 [1,6].
```
示例 2:
```
输入: [[1,4],[4,5]]
输出: [[1,5]]
解释: 区间 [1,4] 和 [4,5] 可被视为重叠区间。
```
```
来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/merge-intervals
```

# 代码

```cpp
class Solution {
public:
    vector<vector<int>> merge(vector<vector<int>>& intervals) {
        vector<pair<int, int> > trans;
        vector<vector<int> > ans;
        for(auto x : intervals){
            trans.push_back({x[0], x[1]});
        }
        sort(trans.begin(), trans.end());
        if(trans.size()){
            pair<int, int> now = trans[0];
            for(auto x : trans){
                if(x.first <= now.second) now.second = max(now.second, x.second);
                else{
                    ans.push_back(vector<int>{now.first, now.second});
                    now = x;
                }
            }
            ans.push_back(vector<int>{now.first, now.second});
        }
        return ans;
    }
};
```

# 思路

按照(l, r)二元组从小到大排序，贪心处理，复杂度$O(nlogn)$

+ 如果当前的l<=之前的r，那说明两个区间是重叠的
> 合并这两个区间，只需要扩展r就行了，l是有序的，所以当前l必定>=前面的l

+ 如果当前的l > 之前的r，那么这两个区间不重叠
> 把前面的区间放入答案，当前区间加入计算