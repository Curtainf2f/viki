# 抽象类与纯虚函数

+ 纯虚函数
函数声明时不实现，而是将它赋值为0，使其成为纯虚函数

+ 抽象类
含有纯虚函数的类

+ 派生类
继承抽象类的类

+ **构造函数不能是虚函数，而析构函数可以是虚析构函数**

```cpp
#include<iostream>
using namespace std;

class Base{ // 抽象类
public:
    virtual void fun() = 0; // 纯虚函数
    Base(){
        cout << "Base structure" << endl;
    }
    ~Base(){
        cout << "Base deconstruction" << endl;
    }
};

class Derived: public Base{ // 派生类
public:
    void fun(){
        cout << " Derived::fun()" << endl;
    }
    Derived(){
        cout << "Derived structure" << endl;
    }
    ~Derived(){
        cout << "Derived deconstruction" << endl;
    }
};

int main(){
    // Base a;                // ↓
    // Base *bp = new Base(); // 不能创建抽象类对象
    // Base *bp; // 可以定义抽象类对象指针

    Base *bp = new Derived();
    delete bp;
    cout << endl;
    Derived *cp = new Derived();
    delete cp;
}
```

+ 基类正常析构

```
Base structure
Derived structure
Base deconstruction

Base structure
Derived structure
Derived deconstruction
Base deconstruction
```

+ 基类虚析构

```
Base structure
Derived structure
Derived deconstruction
Base deconstruction

Base structure
Derived structure
Derived deconstruction
Base deconstruction
```